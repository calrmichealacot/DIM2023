<header>
  <h2>POST LIST</h2>
</header>
<div class="d-flex flex-column justify-content-center" ,>
  <style>
      * {
          box-sizing: border-box;
      }

      body {
          font-family: Arial, Helvetica, sans-serif;
      }

      header {
          background-color: #666;
          padding: 30px;
          text-align: center;
          font-size: 35px;
          color: white;
      }
      table, th, td {
          border: 3px solid black;
          border-collapse: collapse;
      }
      th, td {
          background-color: #96D4D4;
      }
</style>
  <table class="table table-striped table bordered table-hover text-center">
    <thead>

    <td>USER</td>
    <td>TITLE</td>
    <td>CONTENT</td>
    <td>ADDRESS</td>
    <td>ACTION</td>
    <td>CATEGORY</td>
    <td>COMMENTS COUNTS</td>
    <td>IMAGE</td>
    <td>LOCATION</td>
    </thead>
    <% @posts.each do |post| %>
      <tr>
        <td><%= post.title %></td>
        <td><%= post.content %></td>
        <td><%= post.address %></td>
        <td><%= post.action %></td>
        <td><%= post.user&.email %></td>
        <td><%= post.categories.pluck(:name).join(',') %></td>
        <td><%= post.comments_count %></td>
        <td><%= image_tag post.image.url if post.image.present? %></td>
        <td><%= Geocoder.search(post.ip_address).first&.country %></td>
        <td></td>
        <td>
          <%= link_to 'Show', post_path(post), class: 'btn btn-primary' %>
          <%= link_to 'Edit', edit_post_path(post),class: 'btn btn-primary' if policy(post).edit?%>
          <%= button_to 'Delete', post_path(post),class: 'btn btn-danger', method: :delete if policy(post).destroy? %>
          <%= link_to 'Post Comment', post_comments_path(post), class: 'btn btn-warning' %>
          <%= link_to 'React', new_post_comment_path(post), class: 'btn btn-dark' %>
        </td>
        <td>
        </td>
      </tr>
    <% end %>
  </table>
</div>

<%= paginate @posts %>
<%= link_to 'New', new_post_path, class: 'btn btn-success' %>